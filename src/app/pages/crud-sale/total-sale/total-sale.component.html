<form [formGroup]="formGroup">

    <div class="container">


        <div class="container__title">
            <h2 class="title__color" mat-dialog-title>
                <mat-icon>local_mall</mat-icon>Cobrar
            </h2>
            <div class="btn-sale">
                <strong>{{data.totalPrice | currency}}</strong>
            </div>
        </div>

        <mat-dialog-content>
























            <mat-tab-group dynamicHeight>
 <div class="container_form">
                <mat-tab label="Solo Efectivo">
                    <div class="example-small-box mat-elevation-z4">
             
                            <!-- input de ingreso de dinero -->
                            <div class="form__SalesAmount">
                                <mat-form-field class="input" hintLabel="Máximo 12 caracteres">
                                    <mat-label>Ingrese El Pago.</mat-label>
                                    <input matInput maxlength="12" formControlName="price"
                                        (input)="onInputChange($event, 'price')" type="text" pattern="^\d*\.?\d*$" />
                                    <mat-hint align="end">
                                        {{ formGroup.get('price')?.value?.toString().length || 0 }}/12
                                    </mat-hint>
                                    <mat-error *ngIf="formGroup.get('price')?.hasError('pattern')">
                                        Solo se permiten números y un punto decimal.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <!-- Mostrar la diferencia y el vuelto -->
                            <div *ngIf="difference > 0">
                                <p>Diferencia por abonar: {{ difference | currency }}</p>
                            </div>
                            <div class="form__vuelto" *ngIf="change > 0">
                                <p>Vuelto: {{ change | currency }}</p>
                            </div>



                      



                    </div>

                </mat-tab>
                <mat-tab label="Pago Mixto">
                    <div class="example-large-box mat-elevation-z4">
                       <H1>En cosntruccion!</H1>
                    </div>
                </mat-tab>
<mat-tab label="Pago Cta. Cte.">
    <div class="example-large-box mat-elevation-z4">
        <H1>En cosntruccion!</H1>
    </div>
</mat-tab>
            </div> 
            </mat-tab-group>















        </mat-dialog-content>

        <mat-dialog-actions>
            <div class="btn">
                <button mat-raised-button color="warn" (click)="cancel()">Cancelar</button>
@if (amountPaid >= data.totalPrice) {
  <button mat-raised-button  color="primary" (click)="save()">Guardar</button>
}
              
            </div>
        </mat-dialog-actions>

    </div>
</form>